{% extends "base.html" %}
{% load static %}
{% block title %} Log In {% endblock title %}

{% block head %}
<link rel="stylesheet" href="{% static 'qr_gen/login.css' %}">
{% endblock head %}

{% block content %}
<div class="container-fluid g-0">    
    <div class="row justify-content-center">
        <!-- illustration -->
        <header class="col-md-6 hero d-md-flex justify-content-center align-items-center">
            <img src="{% static 'qr_gen/Frame 302.png' %}" alt=""class="img-fluid hero-img">
        </header>
    
        <!-- Registration form -->
        <main class="col-md-6">
            <!-- form heading -->
            <div class="main-div mt-4 text-center">
                <h2 class="fw-bold">Log in to your account</h2>
                <h6 class="px-3">Enter your details to continue</h6>
            </div>
            
            <!-- Form inputs -->
            <form action="#" method="POST" class="mx-auto w-75" id="form">
                {% csrf_token %}
                <!-- Email -->
                <div class="mb-4 position-relative">
                    <label for="email" class="form-label">Email:</label>
                    <input type="email" name="email" id="email" class="form-control">
                    <small style="color: #CE2321" class="position-absolute mb-3 start-0"></small>
                </div>
                <!-- Password -->
                <div class="mb-2">
                    <label for="pin" class="form-label">Password:</label>
                    <div class="position-relative">
                        <input type="password" name="pin" id="pin" class="form-control">
                        <i class="fas fa-eye position-absolute top-50 end-0 translate-middle" id="toggle"></i>
                        <i class="fas fa-eye-slash d-none position-absolute top-50 end-0 translate-middle"></i>
                        <small style="color: #CE2321" class="position-absolute mb-3 start-0"></small>
                    </div>
                </div>
                <!-- Forgot password -->
                <div class="frg-link mb-4 text-end">
                    <a href="{% url 'password_reset' %}" class="text-decoration-none text-dark">Forgot Password?</a>
                </div>
                <!-- Login button -->
                <div class="d-grid ">
                    <input type="submit" value="Log in" class="login-btn">
                </div>
                <!-- Or -->
                <p class="hr-lines my-5"><span>Or</span></p>
            </form>
            <!-- Other Accounts Sign Up -->
            <div class="row mx-auto w-75">
                <div class="d-grid mb-4">
                    <button class="google-btn">
                        <img src="https://img.icons8.com/color/25/000000/google-logo.png" width="24"/>
                        Continue with Google
                    </button>
                </div>
                <div class="d-grid mb-4">
                    <button class="apple-btn">
                        <img src="https://img.icons8.com/ios-filled/25/006464/mac-os.png" width="25"/>
                        Continue with Apple
                    </button>
                </div> 
            </div>
            <p class="text-center mb-4">Don't have an account? <a href="{% url 'register' %}" class="text-decoration-none">Sign Up</a></p>
        </main>
        </div>
    </div>

    <!-- JavaScript -->
    <script>

        // Password toggle
        const password = document.getElementById('pin');
        const toggle = document.getElementById('toggle');

        show_password = () => {
            if (password.type == 'password') {
                password.setAttribute('type', 'text');
                toggle.classList.add('fa-eye-slash');
            } else {
                toggle.classList.remove('fa-eye-slash');
                password.setAttribute('type', 'password');
            }
        };
        toggle.addEventListener('click', show_password);
    </script>
{% endblock %}


<!-- 
{% block titles %}Login{% endblock %}
{% block contents %}
 <h1>Login</h1>
<hr>


 {% if form.errors %}
 <p>Your password did not match Please try again</p>
 {% else %}
 <p>Please, use the following form to log-in. If you don't have an 
account <a href="{% url 'register' %}">register here</a></p>
 {% endif %}

<form method=POST>
{% csrf_token %} 
<div>
    <label>Username</label>
    <input type="text" name="username" >
</div>
<div>
    <label>Password</label>
    <input type="password" name="password" >
</div>
 <input type="hidden" name="next" value="{{ next }}" >
<br/>
<input type="submit" value="Login" >
</form>
<p><a href="{% url 'password_reset' %}">Forgotten your password?</a></p>
{% endblock %} -->